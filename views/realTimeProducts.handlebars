<div class="d-flex justify-content-center align-items-center h-auto flex-column m-5 gap-5">
  <h5>Estas viendo tus productos en tiempo real, si un producto es eliminado/agregado lo veras inmediatamente</h5>

  <div id="products" class="d-flex flex-wrap justify-content-center">
    {{#if productos}}
    {{#each productos}}
    <div class="card m-2" style="width: 18rem;">
    <img src={{this.thumbnail}} class="card-img-top" alt="...">
      <div class="card-body">
        <h4 class="card-title">{{this.title}}</h4>
        <h5 class="card-text">${{this.price}}</h5>
        <p class="card-text">{{this.description}}</p>
        {{!-- <a href="/api/products/1001" class="btn btn-primary">View</a> --}}
        {{!-- Falta poner que muestre solo el producto al hacer click al boton --}}
        </div>
    </div>
    {{/each}}
    {{else}}
    <h3 >No tienes productos creados</h3>
    {{/if}}
  </div>

  {{#if admin}}
    <section class="d-flex" >
    <form class="d-flex flex-column p-3 " id="formProduct" >
      <h3 class="text-center my-3">Add Product</h3>

      <div class="d-flex flex-warp gap-3" id="row-1">
          <div class=" ">
            <label for="title" class="form-label">Title</label>
            <input type="text" class="form-control" id="title" required placeholder="T-Shirt" name="title">
          </div>
        <div class="">
          <label for="price" class="form-label">Price</label>
          <input type="number" class="form-control" id="price" required placeholder="200" name="price">
        </div>
      </div>

      <div id="row-2" class="d-flex flex-wrap gap-3">
          <div class="my-3">
            <label for="code" class="form-label">Code</label>
            <input type="text" class="form-control" id="code" required  placeholder="131231231231" name="code">
          </div>

          <div class="my-3">
            <label for="stock" class="form-label">Stock</label>
            <input type="number" class="form-control" id="stock"  required placeholder="25" name="stock">
          </div>
      </div>

      <div class="mb-3" id="row-3">
          <label for="description" class="form-label">Description</label>
          <textarea class="form-control" id="description" required name="description"></textarea>
        </div>
      
      <div class="mb-3" id="row-4">
        <label for="thumbnail" class="form-label">Thumbnail link</label>
        <input type="url" class="form-control" id="thumbnail" required  placeholder="https://image.com/asdiausdasdasa" name="thumbnail">
      </div>
      
      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="ready" required >
        <label class="form-check-label" for="ready">Ready</label>
      </div>

      <button type="button" class="btn btn-primary" onclick="addProduct() && reset()">Submit</button>
    </form>
  </section>
  <form class="text-center">
    <h3>Delete products</h3>
    <div class="input-group mb-3">
      <label class="input-group-text" for="inputGroupSelect01">Options</label>
      <select class="form-select" id="inputGroupSelect01">
        {{#each productos}}
          <option value={{this._id}}>{{this.title}}</option>
        {{/each}}
      </select>
      <button class="btn btn-outline-secondary" type="button" onclick="deleteProduct()">Delete</button>
    </div>
  </form>
  {{/if}}
</div>
